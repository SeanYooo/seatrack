<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>SEATRACK Obsidian | Full Suite</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <style>
            @import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap");

            :root {
                --obsidian-dark: #050506;
                --obsidian-card: rgba(18, 18, 22, 0.8);
                --obsidian-border: rgba(255, 255, 255, 0.08);
                --accent-purple: #a855f7;
                --accent-blue: #3b82f6;
            }

            body {
                background-color: var(--obsidian-dark);
                color: #f4f4f5;
                font-family: "Plus Jakarta Sans", sans-serif;
                overflow-x: hidden;
                margin: 0;
            }

            #starfield {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                background: radial-gradient(
                    circle at center,
                    #0c0c12 0%,
                    #050506 100%
                );
            }

            .glass-panel {
                background: var(--obsidian-card);
                backdrop-filter: blur(16px);
                -webkit-backdrop-filter: blur(16px);
                border: 1px solid var(--obsidian-border);
                border-radius: 24px;
            }

            .hidden-screen {
                display: none !important;
            }

            .sidebar-item.active {
                background: rgba(168, 85, 247, 0.1);
                color: var(--accent-purple);
                border-right: 3px solid var(--accent-purple);
            }

            .tab-content {
                display: none;
                animation: fadeIn 0.4s ease-out;
            }
            .tab-content.active {
                display: block;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .resource-drawer {
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .fsr-active {
                box-shadow: 0 0 25px rgba(34, 197, 94, 0.4);
                border-color: #22c55e !important;
            }

            ::-webkit-scrollbar {
                width: 6px;
            }
            ::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
            }
        </style>
    </head>
    <body>
        <canvas id="starfield"></canvas>

        <!-- AUTHENTICATION SCREEN -->
        <div
            id="auth-screen"
            class="min-h-screen flex items-center justify-center p-6"
        >
            <div class="glass-panel w-full max-w-md p-10">
                <div class="flex flex-col items-center mb-8">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl mb-4"
                    >
                        <i class="fas fa-shield-halved text-2xl text-white"></i>
                    </div>
                    <h1 class="text-2xl font-black italic tracking-tighter">
                        SEATRACK_OBSIDIAN
                    </h1>
                    <p
                        class="text-zinc-500 text-[10px] font-mono mt-2 tracking-widest uppercase"
                    >
                        Identity Verification Required
                    </p>
                </div>

                <div class="space-y-4">
                    <div>
                        <label
                            class="text-[10px] font-bold text-zinc-500 uppercase ml-1"
                            >Legal Name</label
                        >
                        <input
                            type="text"
                            id="reg-name"
                            placeholder="John Doe"
                            class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-purple-500 transition-all"
                        />
                    </div>
                    <div>
                        <label
                            class="text-[10px] font-bold text-zinc-500 uppercase ml-1"
                            >Academic Section</label
                        >
                        <input
                            type="text"
                            id="reg-section"
                            placeholder="BSCS-3A"
                            class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:border-purple-500 transition-all"
                        />
                    </div>
                    <button
                        onclick="handleSignup()"
                        class="w-full bg-gradient-to-r from-purple-600 to-blue-600 py-4 rounded-xl font-black text-xs uppercase tracking-widest hover:brightness-125 transition-all mt-4"
                    >
                        Establish Connection
                    </button>
                </div>
            </div>
        </div>

        <!-- MAIN DASHBOARD -->
        <div id="dashboard-screen" class="hidden-screen flex min-h-screen">
            <!-- Persistent Sidebar -->
            <aside
                class="w-20 lg:w-64 border-r border-white/10 glass-panel !rounded-none !border-y-0 !border-l-0 flex flex-col fixed h-full z-50"
            >
                <div class="p-8 mb-4">
                    <span
                        class="hidden lg:block font-black text-xl tracking-tighter italic text-purple-500"
                        >OBSIDIAN</span
                    >
                </div>
                <nav class="flex-1 space-y-1">
                    <button
                        onclick="switchTab('home')"
                        class="sidebar-item active w-full py-4 px-6 flex items-center gap-4 transition-all"
                    >
                        <i class="fas fa-home"></i
                        ><span class="hidden lg:block font-bold text-sm"
                            >Command</span
                        >
                    </button>
                    <button
                        onclick="switchTab('classes')"
                        class="sidebar-item w-full py-4 px-6 flex items-center gap-4 transition-all"
                    >
                        <i class="fas fa-book-open"></i
                        ><span class="hidden lg:block font-bold text-sm"
                            >Learning</span
                        >
                    </button>
                    <button
                        onclick="switchTab('community')"
                        class="sidebar-item w-full py-4 px-6 flex items-center gap-4 transition-all"
                    >
                        <i class="fas fa-users"></i
                        ><span class="hidden lg:block font-bold text-sm"
                            >Community</span
                        >
                    </button>
                    <button
                        onclick="switchTab('reports')"
                        class="sidebar-item w-full py-4 px-6 flex items-center gap-4 transition-all"
                    >
                        <i class="fas fa-chart-line"></i
                        ><span class="hidden lg:block font-bold text-sm"
                            >Reports</span
                        >
                    </button>
                    <button
                        onclick="switchTab('attendance')"
                        class="sidebar-item w-full py-4 px-6 flex items-center gap-4 transition-all"
                    >
                        <i class="fas fa-fingerprint"></i
                        ><span class="hidden lg:block font-bold text-sm"
                            >FSR Auth</span
                        >
                    </button>
                </nav>
                <div class="p-6">
                    <div
                        class="bg-white/5 p-3 rounded-2xl flex items-center gap-3"
                    >
                        <img
                            id="user-avatar"
                            src="https://api.dicebear.com/7.x/pixel-art/svg?seed=Felix"
                            class="w-8 h-8 rounded-lg"
                        />
                        <div class="hidden lg:block">
                            <p
                                id="display-name"
                                class="text-[10px] font-black truncate"
                            >
                                USER
                            </p>
                            <p
                                id="display-section"
                                class="text-[8px] text-zinc-500 font-bold"
                            >
                                SECTION
                            </p>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="flex-1 ml-20 lg:ml-64 p-8">
                <!-- HOME TAB -->
                <section id="home" class="tab-content active">
                    <h1 class="text-4xl font-black tracking-tighter mb-8">
                        System <span class="text-purple-500">Overview</span>
                    </h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="glass-panel p-6">
                            <h3
                                class="text-xs font-bold text-zinc-500 uppercase mb-4"
                            >
                                Upcoming Schedule
                            </h3>
                            <div class="space-y-4">
                                <div
                                    class="flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/5"
                                >
                                    <div>
                                        <p class="text-sm font-bold">
                                            Discrete Mathematics
                                        </p>
                                        <p class="text-[10px] text-zinc-500">
                                            08:00 AM - RM 402
                                        </p>
                                    </div>
                                    <span
                                        class="text-[10px] px-2 py-1 bg-purple-500/20 text-purple-400 rounded"
                                        >IN 15 MIN</span
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="glass-panel p-6">
                            <h3
                                class="text-xs font-bold text-zinc-500 uppercase mb-4"
                            >
                                Quick Actions
                            </h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button
                                    class="p-4 bg-white/5 rounded-2xl hover:bg-purple-500/10 transition-colors border border-white/5 text-left"
                                >
                                    <i
                                        class="fas fa-qrcode mb-2 text-purple-500"
                                    ></i>
                                    <p class="text-xs font-bold">Scan In</p>
                                </button>
                                <button
                                    class="p-4 bg-white/5 rounded-2xl hover:bg-blue-500/10 transition-colors border border-white/5 text-left"
                                >
                                    <i
                                        class="fas fa-file-pdf mb-2 text-blue-500"
                                    ></i>
                                    <p class="text-xs font-bold">Permits</p>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CLASSES TAB -->
                <section id="classes" class="tab-content">
                    <h1
                        class="text-3xl font-black mb-8 italic uppercase tracking-tighter"
                    >
                        My Modules
                    </h1>
                    <div
                        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                    >
                        <!-- Clickable Class Cards -->
                        <div
                            onclick="openResource('CS301')"
                            class="glass-panel p-6 hover:border-purple-500 cursor-pointer group transition-all"
                        >
                            <div class="flex justify-between mb-6">
                                <div
                                    class="w-10 h-10 bg-purple-500/20 text-purple-500 rounded-lg flex items-center justify-center"
                                >
                                    <i class="fas fa-microchip"></i>
                                </div>
                                <i
                                    class="fas fa-arrow-right text-zinc-700 group-hover:text-purple-500 transition-colors"
                                ></i>
                            </div>
                            <h3 class="font-black text-lg mb-1">
                                Embedded Systems
                            </h3>
                            <p class="text-[10px] text-zinc-500 font-bold mb-4">
                                DR. VICTOR FRANKEN
                            </p>
                            <div
                                class="flex items-center gap-2 text-[10px] font-bold text-zinc-400"
                            >
                                <i class="fas fa-folder-open"></i> 12 Resources
                                Available
                            </div>
                        </div>

                        <div
                            onclick="openResource('MATH20')"
                            class="glass-panel p-6 hover:border-blue-500 cursor-pointer group transition-all"
                        >
                            <div class="flex justify-between mb-6">
                                <div
                                    class="w-10 h-10 bg-blue-500/20 text-blue-500 rounded-lg flex items-center justify-center"
                                >
                                    <i class="fas fa-infinity"></i>
                                </div>
                                <i
                                    class="fas fa-arrow-right text-zinc-700 group-hover:text-blue-500 transition-colors"
                                ></i>
                            </div>
                            <h3 class="font-black text-lg mb-1">
                                Calculus III
                            </h3>
                            <p class="text-[10px] text-zinc-500 font-bold mb-4">
                                PROF. LEIBNIZ
                            </p>
                            <div
                                class="flex items-center gap-2 text-[10px] font-bold text-zinc-400"
                            >
                                <i class="fas fa-folder-open"></i> 8 Resources
                                Available
                            </div>
                        </div>
                    </div>
                </section>

                <!-- COMMUNITY TAB (Restored) -->
                <section id="community" class="tab-content">
                    <h1 class="text-3xl font-black mb-8">Community Hub</h1>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 space-y-4">
                            <div class="glass-panel p-6">
                                <div class="flex gap-4">
                                    <img
                                        src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"
                                        class="w-10 h-10 rounded-full"
                                    />
                                    <div class="flex-1">
                                        <div class="flex justify-between">
                                            <p class="font-bold text-sm">
                                                System Admin
                                                <span
                                                    class="text-blue-400 text-[10px] ml-2"
                                                    >VERIFIED</span
                                                >
                                            </p>
                                            <span
                                                class="text-[10px] text-zinc-500"
                                                >2h ago</span
                                            >
                                        </div>
                                        <p class="text-sm mt-2 text-zinc-300">
                                            The FSR Arduino hardware has been
                                            updated. Please calibrate your desk
                                            sensors before the morning session.
                                        </p>
                                        <div
                                            class="flex gap-4 mt-4 text-[10px] font-bold text-zinc-500"
                                        >
                                            <button class="hover:text-white">
                                                <i
                                                    class="far fa-comment mr-1"
                                                ></i>
                                                24 Replies
                                            </button>
                                            <button class="hover:text-white">
                                                <i
                                                    class="far fa-heart mr-1"
                                                ></i>
                                                156 Likes
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="glass-panel p-6">
                                <h3 class="text-xs font-bold uppercase mb-4">
                                    Trending Tags
                                </h3>
                                <div class="flex flex-wrap gap-2">
                                    <span
                                        class="px-3 py-1 bg-white/5 rounded-full text-[10px] font-bold"
                                        >#ArduinoFSR</span
                                    >
                                    <span
                                        class="px-3 py-1 bg-white/5 rounded-full text-[10px] font-bold"
                                        >#FinalExams</span
                                    >
                                    <span
                                        class="px-3 py-1 bg-white/5 rounded-full text-[10px] font-bold"
                                        >#ObsidianV4</span
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- REPORTS TAB (Restored) -->
                <section id="reports" class="tab-content">
                    <h1
                        class="text-3xl font-black mb-8 uppercase tracking-tighter"
                    >
                        Academic Metrics
                    </h1>
                    <div class="glass-panel p-8 mb-8">
                        <div class="flex justify-between items-end mb-8">
                            <div>
                                <p class="text-xs font-bold text-zinc-500">
                                    CUMULATIVE GWA
                                </p>
                                <h2 class="text-5xl font-black text-purple-500">
                                    1.25
                                </h2>
                            </div>
                            <div class="text-right">
                                <p class="text-xs font-bold text-zinc-500">
                                    RANK
                                </p>
                                <p class="font-bold">#3 in BSCS-3A</p>
                            </div>
                        </div>
                        <div class="h-48 flex items-end gap-2 px-4">
                            <!-- Simple CSS Bar Chart -->
                            <div
                                class="flex-1 bg-purple-500/20 rounded-t-lg h-[60%] relative group"
                            >
                                <div
                                    class="absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 text-[10px] font-bold"
                                >
                                    1.5
                                </div>
                            </div>
                            <div
                                class="flex-1 bg-purple-500/40 rounded-t-lg h-[85%] relative group"
                            >
                                <div
                                    class="absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 text-[10px] font-bold"
                                >
                                    1.2
                                </div>
                            </div>
                            <div
                                class="flex-1 bg-purple-500/60 rounded-t-lg h-[70%] relative group"
                            >
                                <div
                                    class="absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 text-[10px] font-bold"
                                >
                                    1.4
                                </div>
                            </div>
                            <div
                                class="flex-1 bg-purple-500 rounded-t-lg h-[95%] relative group"
                            >
                                <div
                                    class="absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 text-[10px] font-bold"
                                >
                                    1.1
                                </div>
                            </div>
                        </div>
                        <div
                            class="flex justify-between mt-4 text-[10px] font-bold text-zinc-500"
                        >
                            <span>SEM 1</span><span>SEM 2</span
                            ><span>SEM 3</span><span>CURRENT</span>
                        </div>
                    </div>
                </section>

                <!-- FSR ATTENDANCE TAB -->
                <section id="attendance" class="tab-content">
                    <div class="glass-panel p-10 max-w-2xl mx-auto text-center">
                        <h2 class="text-2xl font-black mb-4">
                            Hardware Verification
                        </h2>
                        <p class="text-zinc-500 text-xs mb-10">
                            Pressure-sensitive biometric attendance via Arduino
                            FSR.
                        </p>
                        <div
                            id="fsr-pad"
                            class="w-32 h-32 rounded-full border-4 border-zinc-800 mx-auto flex items-center justify-center transition-all duration-300"
                        >
                            <i
                                id="fsr-icon"
                                class="fas fa-fingerprint text-4xl text-zinc-800"
                            ></i>
                        </div>
                        <div class="mt-8 px-12">
                            <div
                                id="pressure-bar"
                                class="w-full bg-white/5 h-2 rounded-full overflow-hidden"
                            >
                                <div
                                    id="pressure-fill"
                                    class="bg-purple-500 w-0 h-full transition-all"
                                ></div>
                            </div>
                        </div>
                        <button
                            onclick="simulateFSR()"
                            class="mt-8 px-8 py-3 bg-white/5 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-white/10 transition-all border border-white/10"
                        >
                            Trigger Sensor
                        </button>
                    </div>
                </section>
            </main>
        </div>

        <!-- RESOURCE DRAWER (New interaction) -->
        <div
            id="resource-drawer"
            class="fixed inset-y-0 right-0 w-80 glass-panel !rounded-none border-l border-white/10 z-[100] translate-x-full resource-drawer p-8"
        >
            <button
                onclick="closeResource()"
                class="mb-8 text-zinc-500 hover:text-white"
            >
                <i class="fas fa-times"></i> Close
            </button>
            <h2 id="drawer-title" class="text-xl font-black mb-2">
                Subject Title
            </h2>
            <p
                class="text-[10px] text-purple-400 font-bold mb-8 uppercase tracking-widest"
            >
                Syllabus & Materials
            </p>

            <div class="space-y-4">
                <div
                    class="p-4 bg-white/5 rounded-xl border border-white/5 flex items-center gap-4 cursor-pointer hover:bg-white/10"
                >
                    <i class="fas fa-file-pdf text-red-500"></i>
                    <div>
                        <p class="text-xs font-bold">Lecture_01.pdf</p>
                        <p class="text-[8px] text-zinc-500 uppercase">2.4 MB</p>
                    </div>
                </div>
                <div
                    class="p-4 bg-white/5 rounded-xl border border-white/5 flex items-center gap-4 cursor-pointer hover:bg-white/10"
                >
                    <i class="fas fa-video text-blue-500"></i>
                    <div>
                        <p class="text-xs font-bold">Lab_Recording.mp4</p>
                        <p class="text-[8px] text-zinc-500 uppercase">
                            45.0 MB
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // 1. STARFIELD
            const canvas = document.getElementById("starfield");
            const ctx = canvas.getContext("2d");
            let stars = [];

            function initStars() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                stars = [];
                for (let i = 0; i < 200; i++) {
                    stars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        size: Math.random() * 1.5,
                        speed: Math.random() * 0.4 + 0.1,
                    });
                }
            }

            function animateStars() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "rgba(255, 255, 255, 0.4)";
                stars.forEach((star) => {
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                    ctx.fill();
                    star.y -= star.speed;
                    if (star.y < 0) star.y = canvas.height;
                });
                requestAnimationFrame(animateStars);
            }

            // 2. AUTH
            function handleSignup() {
                const name = document.getElementById("reg-name").value;
                const sec = document.getElementById("reg-section").value;
                if (!name || !sec) return;

                document.getElementById("display-name").innerText =
                    name.toUpperCase();
                document.getElementById("display-section").innerText = sec;
                document
                    .getElementById("auth-screen")
                    .classList.add("hidden-screen");
                document
                    .getElementById("dashboard-screen")
                    .classList.remove("hidden-screen");
                initStars();
            }

            // 3. NAV
            function switchTab(id) {
                document
                    .querySelectorAll(".tab-content")
                    .forEach((t) => t.classList.remove("active"));
                document.getElementById(id).classList.add("active");
                document
                    .querySelectorAll(".sidebar-item")
                    .forEach((b) => b.classList.remove("active"));
                event.currentTarget.classList.add("active");
                closeResource();
            }

            // 4. RESOURCE SYSTEM
            function openResource(title) {
                document.getElementById("drawer-title").innerText = title;
                document
                    .getElementById("resource-drawer")
                    .classList.remove("translate-x-full");
            }

            function closeResource() {
                document
                    .getElementById("resource-drawer")
                    .classList.add("translate-x-full");
            }

            // 5. FSR HARDWARE SIM
            function simulateFSR() {
                const fill = document.getElementById("pressure-fill");
                const pad = document.getElementById("fsr-pad");
                const icon = document.getElementById("fsr-icon");
                let p = 0;
                const itv = setInterval(() => {
                    p += 4;
                    fill.style.width = p + "%";
                    if (p >= 100) {
                        clearInterval(itv);
                        pad.classList.add("fsr-active");
                        icon.classList.replace(
                            "text-zinc-800",
                            "text-green-500",
                        );
                        setTimeout(
                            () =>
                                alert(
                                    "ATTENDANCE LOGGED: PRESSURE THRESHOLD REACHED",
                                ),
                            200,
                        );
                    }
                }, 20);
            }

            window.onresize = initStars;
            window.onload = () => {
                initStars();
                animateStars();
            };
        </script>
    </body>
</html>
